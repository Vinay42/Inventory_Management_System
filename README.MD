# ğŸ›’ E-Commerce Inventory, Cart & Checkout System (Backend)

## ğŸ“Œ Project Description
This project is a **backend-only REST API** for an e-commerce system that supports:

- **User Authentication:** Secure login and registration using JWT
- **Role-Based Access Control:** `ADMIN` and `USER` roles
- **Product Inventory Management:** Create, update, and delete products
- **User Cart Management:** Add/remove items from cart
- **Atomic Checkout:** Prevents overselling using database transactions
- **Dockerized Deployment:** Docker & Docker Compose support
- **PostgreSQL Database:** Relational database storage

The system ensures **data consistency and safety** using **atomic database transactions**.

---

## ğŸ§° Tech Stack
- **Backend:** Node.js, Express.js
- **Database:** PostgreSQL
- **Authentication:** JWT, bcrypt
- **Containerization:** Docker, Docker Compose
- **Database Driver:** pg
- **Testing:** Postman / curl

---

## ğŸ“ Project Structure
```text
backend/
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ products.js
â”‚   â”œâ”€â”€ cart.js
â”‚   â””â”€â”€ checkout.js
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ cart.js
â”œâ”€â”€ db/
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ schema.sql
â”œâ”€â”€ server.js
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## ğŸ” Environment Variables
Create a `.env` file inside the `backend/` directory:

```env
PORT=5000
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=ecommerce_db
JWT_SECRET=super-secret-key
```

> âš ï¸ Do not commit your `.env` file to GitHub.

---

## ğŸš€ Setup Instructions (Without Docker)

### 1ï¸âƒ£ Navigate to backend directory
```bash
cd backend
```

### 2ï¸âƒ£ Install dependencies
```bash
npm install
```

### 3ï¸âƒ£ Start the server
```bash
npm start
```

â¡ Backend runs at: **http://localhost:5000**

---

## ğŸ³ Docker Usage (Recommended)

### 1ï¸âƒ£ Build & start containers
```bash
docker compose up --build
```

### 2ï¸âƒ£ Start containers (already built)
```bash
docker compose up
```

---

## ğŸ“¦ Services

| Service     | URL |
|------------|-----|
| Backend    | http://localhost:5000 |
| PostgreSQL | localhost:5432 |

---

## ğŸ—„ï¸ Database Initialization
- `schema.sql` runs automatically
- Tables and constraints are created
- Default admin user is inserted

---

## ğŸ‘¤ Default Admin Credentials
```json
{
  "email": "admin@example.com",
  "password": "Admin@123"
}
```

---

## ğŸ”’ Security & Consistency
The checkout process uses **atomic transactions**.

If **any item** in the cart exceeds available stock, the **entire transaction is rolled back**, preventing overselling.

---

## ğŸ“¬ API Testing
Use **Thunder Client** to test endpoints after starting the server.
<<<<<<< HEAD


=======
>>>>>>> 735d8a30ced6ba699059f72aba575c34daf281b3
